<!DOCTYPE html>
<html lang="de" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SOP Notaufnahme">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff" id="metaThemeColor">
    <meta name="description" content="SOP Notaufnahme – Klinikum St. Georg Leipzig">
    <meta name="format-detection" content="telephone=no">
    <title>SOP Notaufnahme</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="Basislogo_farbig.png">
    <link rel="apple-touch-icon" href="Basislogo_farbig.png">
</head>
<body>
    <div id="app" class="app-shell">
        <header class="mobile-header" id="mobileHeader">
            <div class="mobile-header-inner">
                <div class="mobile-header-left">
                    <button class="header-btn hidden" id="backBtn" aria-label="Zurück">
                        <i class="fa-solid fa-chevron-left"></i>
                    </button>
                </div>
                <div class="mobile-header-center">
                    <span class="mobile-title" id="mobileTitle">SOP Notaufnahme</span>
                </div>
                <div class="mobile-header-right">
                    <button class="header-btn" id="themeToggleMobile" aria-label="Theme wechseln">
                        <i class="fa-solid fa-moon" id="themeToggleMobileIcon"></i>
                    </button>
                </div>
            </div>
        </header>
        <aside class="sidebar desktop-only" id="sidebar">
            <div class="sidebar-header">
                <div class="app-logo" id="appLogo">
                    <img src="Basislogo_farbig.png" alt="Klinikum St. Georg Leipzig" class="logo-image">
                    <div class="logo-text">
                        <span class="logo-main">SOP Notaufnahme</span>
                        <span class="logo-sub">Klinikum St. Georg</span>
                    </div>
                </div>
            </div>
            <div class="search-container">
                <div class="search-input-wrapper">
                    <i class="fa-solid fa-magnifying-glass search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Suche..." autocomplete="off" spellcheck="false">
                    <button class="search-clear-btn" id="searchClear" aria-label="Suche löschen">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
            </div>
            <div class="sidebar-category-wrap">
                <div class="category-filters" id="categoryFilters"></div>
            </div>
            <nav class="nav-list" id="navList" aria-label="SOP-Verzeichnis"></nav>
            <div class="sidebar-footer">
                <button class="theme-toggle" id="themeToggle" aria-label="Theme wechseln">
                    <i class="fa-solid fa-moon" id="themeToggleIcon"></i>
                    <span id="themeToggleLabel">Dark Mode</span>
                </button>
            </div>
        </aside>
        <main class="main-content" id="mainContent">
            <div class="content-header desktop-only" id="contentHeader">
                <div class="breadcrumb" id="breadcrumb"></div>
                <div class="header-tools">
                    <button class="icon-btn" id="desktopTocBtn" title="Inhaltsverzeichnis" aria-label="Inhaltsverzeichnis" style="display:none;">
                        <i class="fa-solid fa-list-ul"></i>
                    </button>
                </div>
            </div>
            <div class="content-scroll" id="contentScroll">
                <div id="viewHome" class="view-panel view-pad"></div>
                <div id="viewBrowse" class="view-panel" style="display:none;">
                    <div class="browse-search-wrap">
                        <div class="browse-search-input-wrapper">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <input type="text" id="browseSearchInput" placeholder="SOP filtern..." autocomplete="off" spellcheck="false">
                            <button class="search-clear-btn" id="browseSearchClear" aria-label="Filter löschen">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    </div>
                    <div class="browse-category-wrap">
                        <div class="browse-category-filters" id="browseCategoryFilters"></div>
                    </div>
                    <div class="browse-list" id="browseList"></div>
                </div>
                <div id="viewSearch" class="view-panel" style="display:none;">
                    <div class="search-view-wrap">
                        <div class="search-view-input-wrapper">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <input type="text" id="searchViewInput" placeholder="Volltextsuche in allen SOPs..." autocomplete="off" spellcheck="false">
                            <button class="search-clear-btn" id="searchViewClear" aria-label="Suche löschen">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    </div>
                    <div id="searchResultsArea"></div>
                </div>
                <div id="viewSOP" class="view-panel" style="display:none;"></div>
            </div>
        </main>
        <button class="fab" id="fabAction" aria-label="Inhaltsverzeichnis">
            <i class="fa-solid fa-list-ul"></i>
        </button>
        <div class="section-picker-overlay" id="sectionPickerOverlay">
            <div class="section-picker-backdrop" id="sectionPickerBackdrop"></div>
            <div class="section-picker" id="sectionPicker">
                <div class="section-picker-handle"></div>
                <div class="section-picker-header">
                    <span class="section-picker-title">Inhaltsverzeichnis</span>
                    <button class="section-picker-close" id="sectionPickerClose" aria-label="Schließen">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                <div class="section-picker-list" id="sectionPickerList"></div>
                <div class="section-picker-action" id="sectionPickerPrint">
                    <i class="fa-solid fa-print"></i>
                    <span>SOP drucken</span>
                </div>
            </div>
        </div>
        <nav class="bottom-nav" id="bottomNav" aria-label="Hauptnavigation">
            <button class="bottom-nav-item active" data-tab="home" aria-label="Übersicht">
                <i class="fa-solid fa-house"></i>
                <span>Übersicht</span>
            </button>
            <button class="bottom-nav-item" data-tab="browse" aria-label="Alle SOPs durchsuchen">
                <i class="fa-solid fa-list"></i>
                <span>Alle SOPs</span>
            </button>
            <button class="bottom-nav-item" data-tab="search" aria-label="Volltextsuche">
                <i class="fa-solid fa-magnifying-glass"></i>
                <span>Suche</span>
            </button>
        </nav>
    </div>
    <script src="sop-data-1.js"></script>
    <script src="sop-data-2.js"></script>
    <script src="sop-data-3.js"></script>
    <script src="sop-data-4.js"></script>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js');
            });
        }
    </script>
</body>
</html>