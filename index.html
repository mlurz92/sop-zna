<!DOCTYPE html>
<html lang="de" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, shrink-to-fit=no">
    <meta name="theme-color" id="metaThemeColor" content="#f5f5f5">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#f5f5f5" media="(prefers-color-scheme: light)">
    <meta name="color-scheme" content="light dark">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SOP-ZNA">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="format-detection" content="address=no">
    <meta name="description" content="Patientenpfade ZNA">
    <!-- Cache deaktivieren -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- iOS Touch-Optimierung -->
    <meta name="HandheldFriendly" content="true">
    <meta name="MobileOptimized" content="width">
    <title>Patientenpfade: ZNA</title>
    <link rel="icon" type="image/png" href="img/Basislogo_farbig.png">
    <link rel="apple-touch-icon" href="img/Patientenpfade.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,400&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-top">
                <a class="sidebar-brand" id="appLogo" href="#">
                    <img src="img/Patientenpfade.png" alt="Patientenpfade">
                    <div class="header-title">
                        <span class="header-main">Patientenpfade</span>
                        <span class="header-sub">Zentrale Notaufnahme</span>
                    </div>
                </a>
                <div class="sidebar-search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="searchInput" placeholder="SOP suchen..." autocomplete="off">
                    <button class="sidebar-search-clear" id="searchClear"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <button class="sidebar-cat-toggle" id="sidebarCatToggle">
                    <i class="fa-solid fa-filter"></i> Kategorien
                    <i class="fa-solid fa-chevron-down toggle-icon"></i>
                </button>
                <div class="sidebar-cats" id="categoryFilters"></div>
            </div>
            <div class="sidebar-nav" id="sidebarNav">
                <ul id="navList"></ul>
            </div>
            <div class="sidebar-bottom">
                <button class="sidebar-btn" id="themeToggle">
                    <i id="themeToggleIcon" class="fa-solid fa-moon"></i>
                    <span id="themeToggleLabel">Dark Mode</span>
                </button>
                <div class="sidebar-font">
                    <i class="fa-solid fa-text-height"></i>
                    <button id="fontDecDesktop">A&minus;</button>
                    <span id="fontIndicatorDesktop">15</span>
                    <button id="fontIncDesktop">A+</button>
                </div>
            </div>
        </aside>

        <main class="main" id="mainContent">
            <header class="topbar" id="mobileHeader">
                <button class="topbar-back" id="backBtn"><i class="fa-solid fa-chevron-left"></i></button>
                <span class="topbar-title" id="mobileTitle">Patientenpfade: ZNA</span>
                <div class="topbar-actions">
                    <button id="fontDecMobile" class="topbar-btn-sm">A&minus;</button>
                    <span class="topbar-font-val" id="fontIndicatorMobile">15</span>
                    <button id="fontIncMobile" class="topbar-btn-sm">A+</button>
                    <button id="themeToggleMobile" class="topbar-btn">
                        <i id="themeToggleMobileIcon" class="fa-solid fa-moon"></i>
                    </button>
                </div>
            </header>

            <div class="offline-bar" id="offlineBanner">
                <i class="fa-solid fa-wifi-slash"></i>
                <span>Offline-Modus</span>
                <span class="offline-ts" id="offlineTimestamp"></span>
            </div>

            <div class="desk-bar" id="contentHeader">
                <div class="desk-crumbs" id="breadcrumb"></div>
                <button class="desk-toc-btn" id="desktopTocBtn" style="display:none">
                    <i class="fa-solid fa-list-ul"></i> Inhalt
                </button>
            </div>

            <div class="scroll-area" id="contentScroll">
                <div class="pull-ind" id="pullIndicator">
                    <i class="fa-solid fa-arrow-rotate-right"></i>
                </div>

                <div class="sticky-bar" id="stickySectionBar">
                    <i class="fa-solid fa-circle-info" id="stickySectionIcon"></i>
                    <span id="stickySectionTitle"></span>
                    <span class="sticky-sop" id="stickySopName"></span>
                </div>

                <div class="v" id="viewHome">
                    <div class="hero" id="heroArea"></div>
                    <div class="cat-grid" id="catGrid"></div>
                    <div class="home-info" id="homeInfo"></div>
                </div>

                <div class="v" id="viewBrowse"></div>

                <div class="v" id="viewSearch">
                    <div class="search-bar">
                        <div class="search-input-wrap">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <input type="text" id="searchViewInput" placeholder="Volltextsuche..." autocomplete="off">
                            <button class="search-clear" id="searchViewClear"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </div>
                    <div class="search-results" id="searchResultsArea"></div>
                </div>

                <div class="v v-sop" id="viewSOP"></div>
            </div>

            <nav class="btm-nav" id="bottomNav">
                <button class="btm-btn" data-tab="home">
                    <i class="fa-solid fa-house"></i><span>Start</span>
                </button>
                <button class="btm-btn" data-tab="browse">
                    <i class="fa-solid fa-book-medical"></i><span>SOPs</span>
                </button>
                <button class="btm-btn" data-tab="search">
                    <i class="fa-solid fa-magnifying-glass"></i><span>Suche</span>
                </button>
            </nav>
        </main>
    </div>

    <button class="fab" id="fabAction">
        <i class="fa-solid fa-list-ul"></i>
    </button>

    <div class="picker-overlay" id="sectionPickerOverlay">
        <div class="picker-bg" id="sectionPickerBackdrop"></div>
        <div class="picker-sheet">
            <div class="picker-handle"></div>
            <div class="picker-head">
                <h3>Inhalt</h3>
                <button id="sectionPickerClose"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <ul class="picker-list" id="sectionPickerList"></ul>
            <div class="picker-foot">
                <button id="sectionPickerPrint"><i class="fa-solid fa-print"></i> Drucken</button>
            </div>
        </div>
    </div>

    <script src="sops/abdominelle-schmerzen.js"></script>
    <script src="sops/aecopd.js"></script>
    <script src="sops/akute-alkoholintoxikation.js"></script>
    <script src="sops/akute-divertikulitis.js"></script>
    <script src="sops/akute-gastroenteritis.js"></script>
    <script src="sops/akute-herzinsuffizienz.js"></script>
    <script src="sops/akute-intoxikation.js"></script>
    <script src="sops/akute-mesenterialischaemie.js"></script>
    <script src="sops/akute-nebenniereninsuffizienz.js"></script>
    <script src="sops/akute-nierenschaedigung.js"></script>
    <script src="sops/akute-pankreatitis.js"></script>
    <script src="sops/akuter-gichtanfall.js"></script>
    <script src="sops/akuter-harnverhalt.js"></script>
    <script src="sops/akutes-aortensyndrom.js"></script>
    <script src="sops/anaemie.js"></script>
    <script src="sops/anaphylaxie.js"></script>
    <script src="sops/asthmaexazerbation.js"></script>
    <script src="sops/bakterielle-meningitis.js"></script>
    <script src="sops/bradykarde-hrst.js"></script>
    <script src="sops/cannabinoid-hyperemesis-syndrom.js"></script>
    <script src="sops/delir.js"></script>
    <script src="sops/diabetische-ketoazidose.js"></script>
    <script src="sops/dyspnoe.js"></script>
    <script src="sops/erbrechen.js"></script>
    <script src="sops/erysipel.js"></script>
    <script src="sops/fieber-in-der-neutropenie.js"></script>
    <script src="sops/fremdkoerperingestion.js"></script>
    <script src="sops/harnwegsinfektion.js"></script>
    <script src="sops/heparininduzierte-thrombozytopenie.js"></script>
    <script src="sops/hepatische-enzephalopathie.js"></script>
    <script src="sops/herz-kreislauf-stillstand.js"></script>
    <script src="sops/hitzschlag.js"></script>
    <script src="sops/hyperkaliaemie.js"></script>
    <script src="sops/hyperkalzaemie.js"></script>
    <script src="sops/hypernatriaemie.js"></script>
    <script src="sops/hyperosmolares-hyperglykaemisches-syndrom.js"></script>
    <script src="sops/hypertensiver-notfall.js"></script>
    <script src="sops/hypoglykaemie.js"></script>
    <script src="sops/hypokaliaemie.js"></script>
    <script src="sops/hypokalzaemie.js"></script>
    <script src="sops/hyponatriaemie.js"></script>
    <script src="sops/ikterus.js"></script>
    <script src="sops/kohlenmonoxidintoxikation.js"></script>
    <script src="sops/kopfschmerzen.js"></script>
    <script src="sops/lungenarterienembolie.js"></script>
    <script src="sops/myxoedemkoma.js"></script>
    <script src="sops/nicht-st-hebungsinfarkt.js"></script>
    <script src="sops/nierenkolik.js"></script>
    <script src="sops/obere-gastrointestinale-blutung.js"></script>
    <script src="sops/oesophageale-bolusimpaktion.js"></script>
    <script src="sops/pleuraerguss.js"></script>
    <script src="sops/pneumonie.js"></script>
    <script src="sops/schock.js"></script>
    <script src="sops/sepsis.js"></script>
    <script src="sops/spontan-bakterielle-peritonitis.js"></script>
    <script src="sops/status-epilepticus.js"></script>
    <script src="sops/sterbephase-palliativ.js"></script>
    <script src="sops/st-hebungsinfarkt.js"></script>
    <script src="sops/stromunfall.js"></script>
    <script src="sops/synkope.js"></script>
    <script src="sops/tachykarde-hrst.js"></script>
    <script src="sops/thoraxschmerzen.js"></script>
    <script src="sops/thrombozytopenie.js"></script>
    <script src="sops/tiefe-venenthrombose.js"></script>
    <script src="sops/tonsillitis.js"></script>
    <script src="sops/transiente-globale-amnesie.js"></script>
    <script src="sops/tumorlysesyndrom.js"></script>
    <script src="sops/unklare-vigilanzminderung.js"></script>
    <script src="sops/untere-gastrointestinale-blutung.js"></script>
    <script src="sops/vena-cava-superior-syndrom.js"></script>
    <script src="sops/vorhofflimmern.js"></script>
    <script src="sops/zerebrale-metastasen.js"></script>
    <script src="sops/zerebrale-venen-sinusthrombose.js"></script>
    <script src="app.js"></script>
    <script>
        // Service Worker komplett deaktivieren und alle Caches l√∂schen
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                registrations.forEach(function(registration) {
                    registration.unregister();
                });
            });
        }
        if ('caches' in window) {
            caches.keys().then(function(names) {
                names.forEach(function(name) {
                    caches.delete(name);
                });
            });
        }
    </script>
</body>
</html>